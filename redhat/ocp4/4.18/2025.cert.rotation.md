# Certification used in openshift4

```bash

oc get secret -A --field-selector type=kubernetes.io/tls -o json | jq -r '.items[] | [.metadata.namespace, .metadata.name] | join("/")'


oc get configmap -A -o json | jq -r '.items[] | select(.data["service-ca.crt"] or .data["ca-bundle.crt"]) | [.metadata.namespace, .metadata.name] | join("/")'


oc get service -A -o json | jq -r '.items[] | select(.metadata.annotations["service.beta.openshift.io/serving-cert-secret-name"]) | [.metadata.namespace, .metadata.annotations["service.beta.openshift.io/serving-cert-secret-name"]] | join("/")'


```

关于 Cert Rotation 的代码逻辑
是的，kube-apiserver-operator 的源代码中包含与证书轮换（cert rotation）相关的逻辑。OpenShift 的证书管理是其核心功能之一，kube-apiserver-operator 负责确保 kube-apiserver 的证书保持有效，包括自动轮换和更新。
以下是证书轮换逻辑可能涉及的关键部分：
证书管理的主要位置:
代码中与证书相关的逻辑通常集中在 pkg/operator/certrotationcontroller 目录下（如果目录结构未大幅调整）。这个控制器负责处理证书的生成、轮换和更新。

文件如 certrotationcontroller.go 会包含具体的实现细节。

证书轮换的实现:
OpenShift 使用 Kubernetes 的证书签名请求（CSR，Certificate Signing Request）机制来管理证书。

kube-apiserver-operator 会定期检查证书的到期时间，并在证书接近到期时（通常是有效期的 80% 或其他预定义阈值）触发轮换。

它通过与集群的证书颁发机构（CA）交互来生成新的证书，并更新 kube-apiserver 的配置以使用新证书。

关键代码文件:
pkg/operator/certrotationcontroller/certrotationcontroller.go: 这个文件通常定义了证书轮换的核心逻辑，包括检查证书有效期、生成新的 CSR 并应用新证书。

pkg/operator/configobservation/certificates/observe_certificates.go: 这个文件可能包含观察和同步证书配置的逻辑。

pkg/operator/targetconfigcontroller/targetconfigcontroller.go: 负责将证书更新应用到 kube-apiserver 的目标配置中。

自动轮换的触发:
证书轮换通常由 operator 的调谐循环（reconciliation loop）驱动。operator 会定期检查 Secret 或 ConfigMap 中存储的证书状态。

如果检测到证书即将过期，operator 会调用相关函数生成新证书并触发 kube-apiserver 的重新部署。

相关依赖:
OpenShift 的证书轮换逻辑依赖于底层的 Kubernetes 库（如 k8s.io/client-go 和 k8s.io/kubernetes）以及 OpenShift 特定的库（如 github.com/openshift/library-go）。

```bash


[cluster-sno@helper-vm ~]$ echo -e "NAMESPACE\tNAME\tEXPIRY" && oc get secrets -A -o go-template='{{range .items}}{{if eq .type "kubernetes.io/tls"}}{{.metadata.namespace}}{{" "}}{{.metadata.name}}{{" "}}{{index .data "tls.crt"}}{{"\n"}}{{end}}{{end}}' | while read namespace name cert; do echo -en "$namespace\t$name\t"; echo $cert | base64 -d | openssl x509 -noout -enddate; done | column -t
NAMESPACE       NAME    EXPIRY
demo-keycloak                                     example-tls-secret                                  notAfter=Feb  21  14:50:50  2026  GMT
group-sync-operator                               group-sync-operator-certs                           notAfter=Dec  19  09:40:22  2026  GMT
istio-system                                      knative-serving-cert                                notAfter=Oct  20  02:55:08  2026  GMT
knative-serving                                   activator-sm-service-tls                            notAfter=Dec  6   03:32:27  2026  GMT
knative-serving                                   autoscaler-hpa-sm-service-tls                       notAfter=Dec  6   03:32:28  2026  GMT
knative-serving                                   autoscaler-sm-service-tls                           notAfter=Dec  6   03:32:27  2026  GMT
knative-serving                                   controller-sm-service-tls                           notAfter=Dec  6   03:32:28  2026  GMT
knative-serving                                   webhook-sm-service-tls                              notAfter=Dec  6   03:32:27  2026  GMT
open-cluster-management-agent-addon               config-policy-controller-metrics                    notAfter=Oct  20  12:15:24  2026  GMT
open-cluster-management-agent-addon               governance-policy-framework-metrics                 notAfter=Oct  20  12:15:24  2026  GMT
openshift-apiserver-operator                      openshift-apiserver-operator-serving-cert           notAfter=Oct  20  02:54:55  2026  GMT
openshift-apiserver                               etcd-client                                         notAfter=Oct  20  02:46:45  2027  GMT
openshift-apiserver                               serving-cert                                        notAfter=Oct  20  02:55:08  2026  GMT
openshift-authentication-operator                 serving-cert                                        notAfter=Oct  20  02:54:55  2026  GMT
openshift-authentication                          v4-0-config-system-serving-cert                     notAfter=Oct  20  02:55:09  2026  GMT
openshift-cloud-controller-manager-operator       cloud-controller-manager-operator-tls               notAfter=Oct  20  02:55:45  2026  GMT
openshift-cloud-credential-operator               cloud-credential-operator-serving-cert              notAfter=Oct  20  02:55:36  2026  GMT
openshift-cluster-machine-approver                machine-approver-tls                                notAfter=Oct  20  02:55:36  2026  GMT
openshift-cluster-node-tuning-operator            node-tuning-operator-tls                            notAfter=Oct  20  02:54:55  2026  GMT
openshift-cluster-node-tuning-operator            performance-addon-operator-webhook-cert             notAfter=Oct  20  02:54:55  2026  GMT
openshift-cluster-samples-operator                samples-operator-tls                                notAfter=Oct  20  02:55:40  2026  GMT
openshift-cluster-storage-operator                cluster-storage-operator-serving-cert               notAfter=Oct  20  02:54:55  2026  GMT
openshift-cluster-storage-operator                csi-snapshot-webhook-secret                         notAfter=Oct  20  02:54:55  2026  GMT
openshift-cluster-storage-operator                serving-cert                                        notAfter=Oct  20  02:54:55  2026  GMT
openshift-cluster-version                         cluster-version-operator-serving-cert               notAfter=Oct  20  02:54:56  2026  GMT
openshift-compliance                              compliance-operator-serving-cert                    notAfter=Mar  11  15:52:44  2027  GMT
openshift-compliance                              result-client-cert-ocp4-cis                         notAfter=Apr  2   02:06:59  2025  GMT
openshift-compliance                              result-client-cert-ocp4-cis-node-master             notAfter=Apr  2   02:07:06  2025  GMT
openshift-compliance                              result-client-cert-ocp4-cis-node-worker             notAfter=Apr  2   02:07:04  2025  GMT
openshift-compliance                              result-server-cert-ocp4-cis                         notAfter=Apr  2   02:06:58  2025  GMT
openshift-compliance                              result-server-cert-ocp4-cis-node-master             notAfter=Apr  2   02:07:06  2025  GMT
openshift-compliance                              result-server-cert-ocp4-cis-node-worker             notAfter=Apr  2   02:07:03  2025  GMT
openshift-compliance                              root-ca-ocp4-cis                                    notAfter=Apr  2   02:06:58  2025  GMT
openshift-compliance                              root-ca-ocp4-cis-node-master                        notAfter=Apr  2   02:07:00  2025  GMT
openshift-compliance                              root-ca-ocp4-cis-node-worker                        notAfter=Apr  2   02:07:01  2025  GMT
openshift-config-managed                          kube-controller-manager-client-cert-key             notAfter=Apr  20  04:37:04  2025  GMT
openshift-config-managed                          kube-scheduler-client-cert-key                      notAfter=Apr  20  04:37:04  2025  GMT
openshift-config-operator                         config-operator-serving-cert                        notAfter=Oct  20  02:54:55  2026  GMT
openshift-config                                  etcd-client                                         notAfter=Oct  20  02:46:45  2027  GMT
openshift-config                                  etcd-metric-signer                                  notAfter=Oct  19  02:46:44  2029  GMT
openshift-config                                  etcd-signer                                         notAfter=Oct  19  02:46:44  2029  GMT
openshift-console-operator                        serving-cert                                        notAfter=Oct  20  03:00:59  2026  GMT
openshift-console-operator                        webhook-serving-cert                                notAfter=Oct  20  03:00:58  2026  GMT
openshift-console                                 console-serving-cert                                notAfter=Oct  20  03:05:34  2026  GMT
openshift-controller-manager-operator             openshift-controller-manager-operator-serving-cert  notAfter=Oct  20  02:54:55  2026  GMT
openshift-controller-manager                      serving-cert                                        notAfter=Oct  20  02:54:56  2026  GMT
openshift-dns-operator                            metrics-tls                                         notAfter=Oct  20  02:54:57  2026  GMT
openshift-dns                                     dns-default-metrics-tls                             notAfter=Oct  20  02:55:10  2026  GMT
openshift-etcd-operator                           etcd-client                                         notAfter=Oct  20  02:46:45  2027  GMT
openshift-etcd-operator                           etcd-metric-client                                  notAfter=Oct  20  02:46:46  2027  GMT
openshift-etcd-operator                           etcd-operator-serving-cert                          notAfter=Oct  20  02:54:57  2026  GMT
openshift-etcd                                    etcd-client                                         notAfter=Oct  20  02:46:45  2027  GMT
openshift-etcd                                    etcd-metric-client                                  notAfter=Oct  20  02:46:46  2027  GMT
openshift-etcd                                    etcd-metric-signer                                  notAfter=Oct  19  02:46:45  2029  GMT
openshift-etcd                                    etcd-peer-master-01-demo                            notAfter=Oct  20  02:46:46  2027  GMT
openshift-etcd                                    etcd-serving-master-01-demo                         notAfter=Oct  20  02:46:46  2027  GMT
openshift-etcd                                    etcd-serving-metrics-master-01-demo                 notAfter=Oct  20  02:46:46  2027  GMT
openshift-etcd                                    etcd-signer                                         notAfter=Oct  19  02:46:44  2029  GMT
openshift-etcd                                    serving-cert                                        notAfter=Oct  20  02:54:57  2026  GMT
openshift-image-registry                          image-registry-operator-tls                         notAfter=Oct  20  02:54:58  2026  GMT
openshift-ingress-operator                        metrics-tls                                         notAfter=Oct  20  02:54:58  2026  GMT
openshift-ingress-operator                        router-ca                                           notAfter=Oct  20  02:55:07  2026  GMT
openshift-ingress                                 router-certs-default                                notAfter=Oct  20  02:55:08  2026  GMT
openshift-ingress                                 router-metrics-certs-default                        notAfter=Oct  20  02:55:10  2026  GMT
openshift-insights                                openshift-insights-serving-cert                     notAfter=Oct  20  02:55:44  2026  GMT
openshift-kube-apiserver-operator                 aggregator-client-signer                            notAfter=Apr  20  04:37:04  2025  GMT
openshift-kube-apiserver-operator                 kube-apiserver-operator-serving-cert                notAfter=Oct  20  02:54:59  2026  GMT
openshift-kube-apiserver-operator                 kube-apiserver-to-kubelet-signer                    notAfter=Oct  20  02:44:49  2025  GMT
openshift-kube-apiserver-operator                 kube-control-plane-signer                           notAfter=May  3   10:10:59  2025  GMT
openshift-kube-apiserver-operator                 loadbalancer-serving-signer                         notAfter=Oct  18  02:35:45  2034  GMT
openshift-kube-apiserver-operator                 localhost-recovery-serving-signer                   notAfter=Oct  18  02:54:45  2034  GMT
openshift-kube-apiserver-operator                 localhost-serving-signer                            notAfter=Oct  18  02:35:46  2034  GMT
openshift-kube-apiserver-operator                 node-system-admin-client                            notAfter=Oct  20  02:54:45  2025  GMT
openshift-kube-apiserver-operator                 node-system-admin-signer                            notAfter=Oct  20  02:54:45  2025  GMT
openshift-kube-apiserver-operator                 service-network-serving-signer                      notAfter=Oct  18  02:35:46  2034  GMT
openshift-kube-apiserver                          aggregator-client                                   notAfter=Apr  20  04:37:04  2025  GMT
openshift-kube-apiserver                          check-endpoints-client-cert-key                     notAfter=Apr  20  04:37:04  2025  GMT
openshift-kube-apiserver                          control-plane-node-admin-client-cert-key            notAfter=Apr  20  04:37:04  2025  GMT
openshift-kube-apiserver                          etcd-client                                         notAfter=Oct  20  02:46:45  2027  GMT
openshift-kube-apiserver                          etcd-client-26                                      notAfter=Oct  20  02:46:45  2027  GMT
openshift-kube-apiserver                          etcd-client-27                                      notAfter=Oct  20  02:46:45  2027  GMT
openshift-kube-apiserver                          etcd-client-28                                      notAfter=Oct  20  02:46:45  2027  GMT
openshift-kube-apiserver                          etcd-client-29                                      notAfter=Oct  20  02:46:45  2027  GMT
openshift-kube-apiserver                          etcd-client-30                                      notAfter=Oct  20  02:46:45  2027  GMT
openshift-kube-apiserver                          etcd-client-32                                      notAfter=Oct  20  02:46:45  2027  GMT
openshift-kube-apiserver                          etcd-client-33                                      notAfter=Oct  20  02:46:45  2027  GMT
openshift-kube-apiserver                          etcd-client-34                                      notAfter=Oct  20  02:46:45  2027  GMT
openshift-kube-apiserver                          etcd-client-35                                      notAfter=Oct  20  02:46:45  2027  GMT
openshift-kube-apiserver                          etcd-client-36                                      notAfter=Oct  20  02:46:45  2027  GMT
openshift-kube-apiserver                          external-loadbalancer-serving-certkey               notAfter=Apr  20  04:37:04  2025  GMT
openshift-kube-apiserver                          internal-loadbalancer-serving-certkey               notAfter=Apr  20  04:37:12  2025  GMT
openshift-kube-apiserver                          kubelet-client                                      notAfter=Apr  20  04:37:04  2025  GMT
openshift-kube-apiserver                          localhost-recovery-serving-certkey                  notAfter=Oct  18  02:54:45  2034  GMT
openshift-kube-apiserver                          localhost-recovery-serving-certkey-26               notAfter=Oct  18  02:54:45  2034  GMT
openshift-kube-apiserver                          localhost-recovery-serving-certkey-27               notAfter=Oct  18  02:54:45  2034  GMT
openshift-kube-apiserver                          localhost-recovery-serving-certkey-28               notAfter=Oct  18  02:54:45  2034  GMT
openshift-kube-apiserver                          localhost-recovery-serving-certkey-29               notAfter=Oct  18  02:54:45  2034  GMT
openshift-kube-apiserver                          localhost-recovery-serving-certkey-30               notAfter=Oct  18  02:54:45  2034  GMT
openshift-kube-apiserver                          localhost-recovery-serving-certkey-32               notAfter=Oct  18  02:54:45  2034  GMT
openshift-kube-apiserver                          localhost-recovery-serving-certkey-33               notAfter=Oct  18  02:54:45  2034  GMT
openshift-kube-apiserver                          localhost-recovery-serving-certkey-34               notAfter=Oct  18  02:54:45  2034  GMT
openshift-kube-apiserver                          localhost-recovery-serving-certkey-35               notAfter=Oct  18  02:54:45  2034  GMT
openshift-kube-apiserver                          localhost-recovery-serving-certkey-36               notAfter=Oct  18  02:54:45  2034  GMT
openshift-kube-apiserver                          localhost-serving-cert-certkey                      notAfter=Apr  20  04:37:04  2025  GMT
openshift-kube-apiserver                          service-network-serving-certkey                     notAfter=Apr  20  04:37:13  2025  GMT
openshift-kube-controller-manager-operator        csr-signer                                          notAfter=Apr  20  04:39:51  2025  GMT
openshift-kube-controller-manager-operator        csr-signer-signer                                   notAfter=May  3   10:08:25  2025  GMT
openshift-kube-controller-manager-operator        kube-controller-manager-operator-serving-cert       notAfter=Oct  20  02:55:00  2026  GMT
openshift-kube-controller-manager                 csr-signer                                          notAfter=Apr  20  04:39:51  2025  GMT
openshift-kube-controller-manager                 kube-controller-manager-client-cert-key             notAfter=Apr  20  04:37:04  2025  GMT
openshift-kube-controller-manager                 serving-cert                                        notAfter=Oct  20  02:55:09  2026  GMT
openshift-kube-controller-manager                 serving-cert-1                                      notAfter=Oct  20  02:55:09  2026  GMT
openshift-kube-controller-manager                 serving-cert-2                                      notAfter=Oct  20  02:55:09  2026  GMT
openshift-kube-controller-manager                 serving-cert-3                                      notAfter=Oct  20  02:55:09  2026  GMT
openshift-kube-controller-manager                 serving-cert-4                                      notAfter=Oct  20  02:55:09  2026  GMT
openshift-kube-controller-manager                 serving-cert-5                                      notAfter=Oct  20  02:55:09  2026  GMT
openshift-kube-controller-manager                 serving-cert-6                                      notAfter=Oct  20  02:55:09  2026  GMT
openshift-kube-controller-manager                 serving-cert-7                                      notAfter=Oct  20  02:55:09  2026  GMT
openshift-kube-scheduler-operator                 kube-scheduler-operator-serving-cert                notAfter=Oct  20  02:55:00  2026  GMT
openshift-kube-scheduler                          kube-scheduler-client-cert-key                      notAfter=Apr  20  04:37:04  2025  GMT
openshift-kube-scheduler                          serving-cert                                        notAfter=Oct  20  02:55:08  2026  GMT
openshift-kube-scheduler                          serving-cert-2                                      notAfter=Oct  20  02:55:08  2026  GMT
openshift-kube-scheduler                          serving-cert-3                                      notAfter=Oct  20  02:55:08  2026  GMT
openshift-kube-scheduler                          serving-cert-4                                      notAfter=Oct  20  02:55:08  2026  GMT
openshift-kube-scheduler                          serving-cert-5                                      notAfter=Oct  20  02:55:08  2026  GMT
openshift-kube-scheduler                          serving-cert-6                                      notAfter=Oct  20  02:55:08  2026  GMT
openshift-kube-storage-version-migrator-operator  serving-cert                                        notAfter=Oct  20  02:55:00  2026  GMT
openshift-machine-api                             cluster-autoscaler-operator-cert                    notAfter=Oct  20  02:55:41  2026  GMT
openshift-machine-api                             cluster-baremetal-operator-tls                      notAfter=Oct  20  02:55:00  2026  GMT
openshift-machine-api                             cluster-baremetal-webhook-server-cert               notAfter=Oct  20  02:55:00  2026  GMT
openshift-machine-api                             control-plane-machine-set-operator-tls              notAfter=Oct  20  02:55:32  2026  GMT
openshift-machine-api                             machine-api-controllers-tls                         notAfter=Oct  20  02:55:45  2026  GMT
openshift-machine-api                             machine-api-operator-machine-webhook-cert           notAfter=Oct  20  02:55:01  2026  GMT
openshift-machine-api                             machine-api-operator-tls                            notAfter=Oct  20  02:55:46  2026  GMT
openshift-machine-api                             machine-api-operator-webhook-cert                   notAfter=Oct  20  02:55:02  2026  GMT
openshift-machine-config-operator                 mcc-proxy-tls                                       notAfter=Oct  20  02:55:02  2026  GMT
openshift-machine-config-operator                 mco-proxy-tls                                       notAfter=Oct  20  02:55:02  2026  GMT
openshift-machine-config-operator                 proxy-tls                                           notAfter=Oct  20  02:55:02  2026  GMT
openshift-marketplace                             marketplace-operator-metrics                        notAfter=Oct  20  02:55:03  2026  GMT
openshift-monitoring                              alertmanager-main-tls                               notAfter=Oct  20  03:08:18  2026  GMT
openshift-monitoring                              cluster-monitoring-operator-tls                     notAfter=Oct  20  02:55:04  2026  GMT
openshift-monitoring                              kube-state-metrics-tls                              notAfter=Oct  20  02:59:13  2026  GMT
openshift-monitoring                              metrics-server-tls                                  notAfter=Oct  20  02:59:14  2026  GMT
openshift-monitoring                              monitoring-plugin-cert                              notAfter=Oct  20  03:00:58  2026  GMT
openshift-monitoring                              node-exporter-tls                                   notAfter=Oct  20  02:59:14  2026  GMT
openshift-monitoring                              openshift-state-metrics-tls                         notAfter=Oct  20  02:59:13  2026  GMT
openshift-monitoring                              prometheus-k8s-thanos-sidecar-tls                   notAfter=Oct  20  03:08:20  2026  GMT
openshift-monitoring                              prometheus-k8s-tls                                  notAfter=Oct  20  03:08:20  2026  GMT
openshift-monitoring                              prometheus-operator-admission-webhook-tls           notAfter=Oct  20  02:55:12  2026  GMT
openshift-monitoring                              prometheus-operator-tls                             notAfter=Oct  20  02:59:08  2026  GMT
openshift-monitoring                              telemeter-client-tls                                notAfter=Oct  20  03:08:17  2026  GMT
openshift-monitoring                              thanos-querier-tls                                  notAfter=Oct  20  02:59:13  2026  GMT
openshift-multus                                  metrics-daemon-secret                               notAfter=Oct  20  02:55:04  2026  GMT
openshift-multus                                  multus-admission-controller-secret                  notAfter=Oct  20  02:55:04  2026  GMT
openshift-network-node-identity                   network-node-identity-ca                            notAfter=Oct  18  02:53:33  2034  GMT
openshift-network-node-identity                   network-node-identity-cert                          notAfter=Aug  3   22:07:43  2025  GMT
openshift-network-operator                        metrics-tls                                         notAfter=Oct  20  02:55:04  2026  GMT
openshift-oauth-apiserver                         etcd-client                                         notAfter=Oct  20  02:46:45  2027  GMT
openshift-oauth-apiserver                         serving-cert                                        notAfter=Oct  20  02:55:09  2026  GMT
openshift-operator-lifecycle-manager              catalog-operator-serving-cert                       notAfter=Oct  20  02:55:06  2026  GMT
openshift-operator-lifecycle-manager              olm-operator-serving-cert                           notAfter=Oct  20  02:55:06  2026  GMT
openshift-operator-lifecycle-manager              package-server-manager-serving-cert                 notAfter=Oct  20  02:55:06  2026  GMT
openshift-operator-lifecycle-manager              packageserver-service-cert                          notAfter=Oct  20  02:55:44  2026  GMT
openshift-operator-lifecycle-manager              pprof-cert                                          notAfter=Apr  1   14:11:54  2025  GMT
openshift-operators                               istio-operator-service-cert                         notAfter=Mar  4   05:44:38  2027  GMT
openshift-ovn-kubernetes                          ovn-ca                                              notAfter=Oct  18  02:53:24  2034  GMT
openshift-ovn-kubernetes                          ovn-cert                                            notAfter=Aug  3   22:07:44  2025  GMT
openshift-ovn-kubernetes                          ovn-control-plane-metrics-cert                      notAfter=Oct  20  02:55:06  2026  GMT
openshift-ovn-kubernetes                          ovn-node-metrics-cert                               notAfter=Oct  20  02:55:06  2026  GMT
openshift-ovn-kubernetes                          signer-ca                                           notAfter=Oct  18  02:53:25  2034  GMT
openshift-ovn-kubernetes                          signer-cert                                         notAfter=Aug  3   22:07:46  2025  GMT
openshift-route-controller-manager                serving-cert                                        notAfter=Oct  20  02:55:07  2026  GMT
openshift-serverless                              knative-openshift-service-cert                      notAfter=Feb  2   10:10:31  2027  GMT
openshift-serverless                              knative-operator-webhook-service-cert               notAfter=Feb  2   10:10:31  2027  GMT
openshift-service-ca-operator                     serving-cert                                        notAfter=Oct  20  02:55:08  2026  GMT
openshift-service-ca                              signing-key                                         notAfter=Dec  19  02:54:52  2026  GMT
openshift-storage                                 lvms-operator-metrics-cert                          notAfter=Oct  20  03:37:29  2026  GMT
openshift-storage                                 lvms-operator-service-cert                          notAfter=Mar  4   05:44:39  2027  GMT
openshift-storage                                 lvms-operator-webhook-server-cert                   notAfter=Oct  20  03:37:27  2026  GMT
openshift-storage                                 vg-manager-metrics-cert                             notAfter=Oct  20  03:37:30  2026  GMT
openshift-user-workload-monitoring                prometheus-operator-user-workload-tls               notAfter=Mar  24  15:09:59  2027  GMT
openshift-user-workload-monitoring                prometheus-user-workload-thanos-sidecar-tls         notAfter=Mar  24  15:09:59  2027  GMT
openshift-user-workload-monitoring                prometheus-user-workload-tls                        notAfter=Mar  24  15:09:59  2027  GMT
openshift-user-workload-monitoring                thanos-ruler-tls                                    notAfter=Mar  24  15:09:58  2027  GMT
redhat-ods-applications                           dashboard-proxy-tls                                 notAfter=Dec  6   03:30:21  2026  GMT
redhat-ods-applications                           kserve-webhook-server-cert                          notAfter=Dec  6   03:32:43  2026  GMT
redhat-ods-applications                           model-serving-proxy-tls                             notAfter=Nov  28  14:06:10  2026  GMT
redhat-ods-applications                           odh-model-controller-webhook-cert                   notAfter=Dec  6   03:32:43  2026  GMT
redhat-ods-applications                           odh-notebook-controller-webhook-cert                notAfter=Dec  6   03:31:41  2026  GMT
redhat-ods-operator                               rhods-operator-service-cert                         notAfter=Mar  31  14:16:27  2027  GMT
rhods-notebooks                                   jupyter-nb-admin-tls                                notAfter=Dec  26  14:23:38  2026  GMT
rhods-notebooks                                   llama-factory-test-proxy-tls-secret-7632417e        notAfter=Jan  9   15:04:45  2027  GMT
wzh-ai-01                                         ds-pipeline-metadata-grpc-tls-certs-dspa            notAfter=Dec  9   14:30:31  2026  GMT
wzh-ai-01                                         ds-pipelines-envoy-proxy-tls-dspa                   notAfter=Dec  6   14:39:24  2026  GMT
wzh-ai-01                                         ds-pipelines-mariadb-tls-dspa                       notAfter=Dec  9   14:30:18  2026  GMT
wzh-ai-01                                         ds-pipelines-proxy-tls-dspa                         notAfter=Dec  6   14:39:24  2026  GMT




[cluster-sno@helper-vm ~]$ oc get configmap -A -o json | jq -r '.items[] | select(.data["service-ca.crt"] or .data["ca-bundle.crt"]) | [.metadata.namespace, .metadata.name] | join("\t")'  | column -t
aap-namespace                                     odh-trusted-ca-bundle
aap-namespace                                     openshift-service-ca.crt
assisted-installer                                odh-trusted-ca-bundle
assisted-installer                                openshift-service-ca.crt
default                                           openshift-service-ca.crt
demo-backup                                       odh-trusted-ca-bundle
demo-backup                                       openshift-service-ca.crt
demo-keycloak                                     odh-trusted-ca-bundle
demo-keycloak                                     openshift-service-ca.crt
demo-llm                                          odh-trusted-ca-bundle
demo-llm                                          openshift-service-ca.crt
demo-rhdh                                         odh-trusted-ca-bundle
demo-rhdh                                         openshift-service-ca.crt
group-sync-operator                               odh-trusted-ca-bundle
group-sync-operator                               openshift-service-ca.crt
istio-system                                      odh-trusted-ca-bundle
istio-system                                      openshift-service-ca.crt
istio-system                                      trusted-ca-bundle
knative-eventing                                  odh-trusted-ca-bundle
knative-eventing                                  openshift-service-ca.crt
knative-serving-ingress                           odh-trusted-ca-bundle
knative-serving-ingress                           openshift-service-ca.crt
knative-serving                                   config-service-ca
knative-serving                                   config-service-ca-service-ca
knative-serving                                   config-service-ca-trusted-ca
knative-serving                                   odh-trusted-ca-bundle
knative-serving                                   openshift-service-ca.crt
kube-node-lease                                   openshift-service-ca.crt
kube-public                                       openshift-service-ca.crt
kube-system                                       openshift-service-ca.crt
nfs-system                                        odh-trusted-ca-bundle
nfs-system                                        openshift-service-ca.crt
open-cluster-management-agent-addon               ocm-controller-metrics-ca
open-cluster-management-agent-addon               odh-trusted-ca-bundle
open-cluster-management-agent-addon               openshift-service-ca.crt
open-cluster-management-agent                     odh-trusted-ca-bundle
open-cluster-management-agent                     openshift-service-ca.crt
openshift-apiserver-operator                      openshift-service-ca.crt
openshift-apiserver-operator                      trusted-ca-bundle
openshift-apiserver                               etcd-serving-ca
openshift-apiserver                               openshift-service-ca.crt
openshift-apiserver                               trusted-ca-bundle
openshift-authentication-operator                 openshift-service-ca.crt
openshift-authentication-operator                 service-ca-bundle
openshift-authentication-operator                 trusted-ca-bundle
openshift-authentication                          openshift-service-ca.crt
openshift-authentication                          v4-0-config-system-service-ca
openshift-authentication                          v4-0-config-system-trusted-ca-bundle
openshift-cloud-controller-manager-operator       openshift-service-ca.crt
openshift-cloud-controller-manager                ccm-trusted-ca
openshift-cloud-controller-manager                openshift-service-ca.crt
openshift-cloud-credential-operator               cco-trusted-ca
openshift-cloud-credential-operator               openshift-service-ca.crt
openshift-cloud-network-config-controller         openshift-service-ca.crt
openshift-cloud-platform-infra                    openshift-service-ca.crt
openshift-cluster-csi-drivers                     openshift-service-ca.crt
openshift-cluster-machine-approver                openshift-service-ca.crt
openshift-cluster-node-tuning-operator            openshift-service-ca.crt
openshift-cluster-node-tuning-operator            trusted-ca
openshift-cluster-samples-operator                openshift-service-ca.crt
openshift-cluster-storage-operator                openshift-service-ca.crt
openshift-cluster-version                         openshift-service-ca.crt
openshift-compliance                              openshift-service-ca.crt
openshift-config-managed                          csr-controller-ca
openshift-config-managed                          default-ingress-cert
openshift-config-managed                          kube-apiserver-aggregator-client-ca
openshift-config-managed                          kube-apiserver-client-ca
openshift-config-managed                          kube-apiserver-server-ca
openshift-config-managed                          kubelet-bootstrap-kubeconfig
openshift-config-managed                          kubelet-serving-ca
openshift-config-managed                          oauth-serving-cert
openshift-config-managed                          openshift-service-ca.crt
openshift-config-managed                          service-ca
openshift-config-managed                          trusted-ca-bundle
openshift-config-operator                         openshift-service-ca.crt
openshift-config                                  admin-kubeconfig-client-ca
openshift-config                                  etcd-ca-bundle
openshift-config                                  etcd-metric-serving-ca
openshift-config                                  etcd-serving-ca
openshift-config                                  initial-kube-apiserver-server-ca
openshift-config                                  openshift-service-ca.crt
openshift-console-operator                        openshift-service-ca.crt
openshift-console-operator                        trusted-ca
openshift-console-user-settings                   openshift-service-ca.crt
openshift-console                                 default-ingress-cert
openshift-console                                 oauth-serving-cert
openshift-console                                 openshift-service-ca.crt
openshift-console                                 service-ca
openshift-console                                 trusted-ca-bundle
openshift-controller-manager-operator             openshift-service-ca.crt
openshift-controller-manager                      client-ca
openshift-controller-manager                      openshift-global-ca
openshift-controller-manager                      openshift-service-ca
openshift-controller-manager                      openshift-service-ca.crt
openshift-debug-4xh9q                             openshift-service-ca.crt
openshift-debug-cxkjf                             openshift-service-ca.crt
openshift-dns-operator                            openshift-service-ca.crt
openshift-dns                                     openshift-service-ca.crt
openshift-etcd-operator                           etcd-ca-bundle
openshift-etcd-operator                           etcd-metric-serving-ca
openshift-etcd-operator                           etcd-service-ca-bundle
openshift-etcd-operator                           openshift-service-ca.crt
openshift-etcd                                    etcd-ca-bundle
openshift-etcd                                    etcd-metrics-ca-bundle
openshift-etcd                                    etcd-metrics-proxy-client-ca
openshift-etcd                                    etcd-metrics-proxy-client-ca-1
openshift-etcd                                    etcd-metrics-proxy-client-ca-3
openshift-etcd                                    etcd-metrics-proxy-client-ca-4
openshift-etcd                                    etcd-metrics-proxy-serving-ca
openshift-etcd                                    etcd-metrics-proxy-serving-ca-1
openshift-etcd                                    etcd-metrics-proxy-serving-ca-3
openshift-etcd                                    etcd-metrics-proxy-serving-ca-4
openshift-etcd                                    etcd-peer-client-ca
openshift-etcd                                    etcd-peer-client-ca-1
openshift-etcd                                    etcd-peer-client-ca-3
openshift-etcd                                    etcd-peer-client-ca-4
openshift-etcd                                    etcd-serving-ca
openshift-etcd                                    etcd-serving-ca-1
openshift-etcd                                    etcd-serving-ca-2
openshift-etcd                                    etcd-serving-ca-3
openshift-etcd                                    etcd-serving-ca-4
openshift-etcd                                    openshift-service-ca.crt
openshift-host-network                            openshift-service-ca.crt
openshift-image-registry                          openshift-service-ca.crt
openshift-image-registry                          serviceca
openshift-image-registry                          trusted-ca
openshift-infra                                   openshift-service-ca.crt
openshift-ingress-canary                          openshift-service-ca.crt
openshift-ingress-operator                        openshift-service-ca.crt
openshift-ingress-operator                        trusted-ca
openshift-ingress                                 openshift-service-ca.crt
openshift-ingress                                 service-ca-bundle
openshift-insights                                openshift-service-ca.crt
openshift-insights                                service-ca-bundle
openshift-insights                                trusted-ca-bundle
openshift-kni-infra                               openshift-service-ca.crt
openshift-kube-apiserver-operator                 kube-apiserver-to-kubelet-client-ca
openshift-kube-apiserver-operator                 kube-control-plane-signer-ca
openshift-kube-apiserver-operator                 loadbalancer-serving-ca
openshift-kube-apiserver-operator                 localhost-recovery-serving-ca
openshift-kube-apiserver-operator                 localhost-serving-ca
openshift-kube-apiserver-operator                 node-system-admin-ca
openshift-kube-apiserver-operator                 openshift-service-ca.crt
openshift-kube-apiserver-operator                 service-network-serving-ca
openshift-kube-apiserver                          aggregator-client-ca
openshift-kube-apiserver                          client-ca
openshift-kube-apiserver                          etcd-serving-ca
openshift-kube-apiserver                          etcd-serving-ca-26
openshift-kube-apiserver                          etcd-serving-ca-27
openshift-kube-apiserver                          etcd-serving-ca-28
openshift-kube-apiserver                          etcd-serving-ca-29
openshift-kube-apiserver                          etcd-serving-ca-30
openshift-kube-apiserver                          etcd-serving-ca-32
openshift-kube-apiserver                          etcd-serving-ca-33
openshift-kube-apiserver                          etcd-serving-ca-34
openshift-kube-apiserver                          etcd-serving-ca-35
openshift-kube-apiserver                          etcd-serving-ca-36
openshift-kube-apiserver                          kube-apiserver-server-ca
openshift-kube-apiserver                          kube-apiserver-server-ca-26
openshift-kube-apiserver                          kube-apiserver-server-ca-27
openshift-kube-apiserver                          kube-apiserver-server-ca-28
openshift-kube-apiserver                          kube-apiserver-server-ca-29
openshift-kube-apiserver                          kube-apiserver-server-ca-30
openshift-kube-apiserver                          kube-apiserver-server-ca-32
openshift-kube-apiserver                          kube-apiserver-server-ca-33
openshift-kube-apiserver                          kube-apiserver-server-ca-34
openshift-kube-apiserver                          kube-apiserver-server-ca-35
openshift-kube-apiserver                          kube-apiserver-server-ca-36
openshift-kube-apiserver                          kubelet-serving-ca
openshift-kube-apiserver                          kubelet-serving-ca-26
openshift-kube-apiserver                          kubelet-serving-ca-27
openshift-kube-apiserver                          kubelet-serving-ca-28
openshift-kube-apiserver                          kubelet-serving-ca-29
openshift-kube-apiserver                          kubelet-serving-ca-30
openshift-kube-apiserver                          kubelet-serving-ca-32
openshift-kube-apiserver                          kubelet-serving-ca-33
openshift-kube-apiserver                          kubelet-serving-ca-34
openshift-kube-apiserver                          kubelet-serving-ca-35
openshift-kube-apiserver                          kubelet-serving-ca-36
openshift-kube-apiserver                          openshift-service-ca.crt
openshift-kube-apiserver                          trusted-ca-bundle
openshift-kube-controller-manager-operator        csr-controller-ca
openshift-kube-controller-manager-operator        csr-controller-signer-ca
openshift-kube-controller-manager-operator        csr-signer-ca
openshift-kube-controller-manager-operator        openshift-service-ca.crt
openshift-kube-controller-manager                 aggregator-client-ca
openshift-kube-controller-manager                 client-ca
openshift-kube-controller-manager                 openshift-service-ca.crt
openshift-kube-controller-manager                 service-ca
openshift-kube-controller-manager                 service-ca-1
openshift-kube-controller-manager                 service-ca-2
openshift-kube-controller-manager                 service-ca-3
openshift-kube-controller-manager                 service-ca-4
openshift-kube-controller-manager                 service-ca-5
openshift-kube-controller-manager                 service-ca-6
openshift-kube-controller-manager                 service-ca-7
openshift-kube-controller-manager                 serviceaccount-ca
openshift-kube-controller-manager                 serviceaccount-ca-1
openshift-kube-controller-manager                 serviceaccount-ca-2
openshift-kube-controller-manager                 serviceaccount-ca-3
openshift-kube-controller-manager                 serviceaccount-ca-4
openshift-kube-controller-manager                 serviceaccount-ca-5
openshift-kube-controller-manager                 serviceaccount-ca-6
openshift-kube-controller-manager                 serviceaccount-ca-7
openshift-kube-controller-manager                 trusted-ca-bundle
openshift-kube-scheduler-operator                 openshift-service-ca.crt
openshift-kube-scheduler                          openshift-service-ca.crt
openshift-kube-scheduler                          serviceaccount-ca
openshift-kube-scheduler                          serviceaccount-ca-1
openshift-kube-scheduler                          serviceaccount-ca-2
openshift-kube-scheduler                          serviceaccount-ca-3
openshift-kube-scheduler                          serviceaccount-ca-4
openshift-kube-scheduler                          serviceaccount-ca-5
openshift-kube-scheduler                          serviceaccount-ca-6
openshift-kube-storage-version-migrator-operator  openshift-service-ca.crt
openshift-kube-storage-version-migrator           openshift-service-ca.crt
openshift-machine-api                             cbo-trusted-ca
openshift-machine-api                             mao-trusted-ca
openshift-machine-api                             openshift-service-ca.crt
openshift-machine-config-operator                 openshift-service-ca.crt
openshift-marketplace                             marketplace-trusted-ca
openshift-marketplace                             openshift-service-ca.crt
openshift-monitoring                              alertmanager-trusted-ca-bundle
openshift-monitoring                              kubelet-serving-ca-bundle
openshift-monitoring                              openshift-service-ca.crt
openshift-monitoring                              prometheus-trusted-ca-bundle
openshift-monitoring                              serving-certs-ca-bundle
openshift-monitoring                              telemeter-client-serving-certs-ca-bundle
openshift-monitoring                              telemeter-trusted-ca-bundle
openshift-monitoring                              telemeter-trusted-ca-bundle-56c9b9fa8d9gs
openshift-multus                                  openshift-service-ca.crt
openshift-network-diagnostics                     openshift-service-ca.crt
openshift-network-node-identity                   network-node-identity-ca
openshift-network-node-identity                   openshift-service-ca.crt
openshift-network-operator                        openshift-service-ca.crt
openshift-node                                    openshift-service-ca.crt
openshift-nutanix-infra                           openshift-service-ca.crt
openshift-oauth-apiserver                         etcd-serving-ca
openshift-oauth-apiserver                         openshift-service-ca.crt
openshift-openstack-infra                         openshift-service-ca.crt
openshift-operator-lifecycle-manager              openshift-service-ca.crt
openshift-operators                               openshift-service-ca.crt
openshift-ovirt-infra                             openshift-service-ca.crt
openshift-ovn-kubernetes                          openshift-service-ca.crt
openshift-ovn-kubernetes                          ovn-ca
openshift-ovn-kubernetes                          signer-ca
openshift-route-controller-manager                client-ca
openshift-route-controller-manager                openshift-service-ca.crt
openshift-serverless                              openshift-service-ca.crt
openshift-service-ca-operator                     openshift-service-ca.crt
openshift-service-ca                              openshift-service-ca.crt
openshift-service-ca                              signing-cabundle
openshift-storage                                 openshift-service-ca.crt
openshift-user-workload-monitoring                openshift-service-ca.crt
openshift-user-workload-monitoring                prometheus-user-workload-trusted-ca-bundle
openshift-user-workload-monitoring                prometheus-user-workload-trusted-ca-bundle-56c9b9fa8d9gs
openshift-user-workload-monitoring                serving-certs-ca-bundle
openshift-vsphere-infra                           openshift-service-ca.crt
openshift                                         openshift-service-ca.crt
policies                                          odh-trusted-ca-bundle
policies                                          openshift-service-ca.crt
posim                                             odh-trusted-ca-bundle
posim                                             openshift-service-ca.crt
redhat-ods-applications                           odh-trusted-ca-bundle
redhat-ods-applications                           openshift-service-ca.crt
redhat-ods-monitoring                             odh-trusted-ca-bundle
redhat-ods-monitoring                             openshift-service-ca.crt
redhat-ods-operator                               odh-trusted-ca-bundle
redhat-ods-operator                               openshift-service-ca.crt
retalix                                           odh-trusted-ca-bundle
retalix                                           openshift-service-ca.crt
rhoai-model-registries                            odh-trusted-ca-bundle
rhoai-model-registries                            openshift-service-ca.crt
rhods-notebooks                                   odh-trusted-ca-bundle
rhods-notebooks                                   openshift-service-ca.crt
rhods-notebooks                                   workbench-trusted-ca-bundle
sno-demo                                          odh-trusted-ca-bundle
sno-demo                                          openshift-service-ca.crt
wzh-ai-01                                         odh-trusted-ca-bundle
wzh-ai-01                                         openshift-service-ca.crt
wzh-demo-01                                       odh-trusted-ca-bundle
wzh-demo-01                                       openshift-service-ca.crt


```
# end